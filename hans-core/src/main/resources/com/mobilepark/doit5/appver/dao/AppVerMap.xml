<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="appVer">

    <!-- 앱 버전 조회 -->
    <select id="selectAppVer" parameterType="map" resultType="map">
        SELECT /* appVer.selectAppVer */
              VER as ver
            , CASE WHEN EXISTS(SELECT 1 FROM TB_BOAD_APP_VER A WHERE UPDATE_TYPE = '605101' AND VER &gt; #{ver} AND TARGET_TYPE = #{targetType} AND OS = #{os})
                THEN 'Y'
                ELSE 'N'
              END as verYn
            , URL as updateUrl
        FROM TB_BOAD_APP_VER
        WHERE OS = #{os}
            AND VER &gt; #{ver}
            AND TARGET_TYPE = #{targetType}
        ORDER BY FST_RG_DT DESC
        LIMIT 1
    </select>
    
    
    
</mapper>