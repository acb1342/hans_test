<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hans.sses.energy.dao.SimulationDaoMybatis">

	<select id="getEnergyList" parameterType="java.util.Map" resultType="java.util.Map">
	  SELECT  GROUP_CONCAT( UPTIME SEPARATOR  ';' ) AS uptimeList
				, GROUP_CONCAT( SAVINGTIME SEPARATOR  ';' ) AS savingtimeList
      			, GROUP_CONCAT( ACC_WATT SEPARATOR  ';' ) AS accwattList
      			, GROUP_CONCAT( EVENT_TYPE SEPARATOR  ';' ) AS eventList
      	FROM TBL_LOG_INFO
      	<where>
      	    DATE_FORMAT(REG_DATE,'%Y%m%d') <![CDATA[>=]]> #{param.beforeday} and DATE_FORMAT(REG_DATE,'%Y%m%d') <![CDATA[<=]]> #{param.afterday}
		</where>
		GROUP BY regDate
		ORDER BY REG_DATE ASC
	</select>

</mapper>